<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEZIONE 7.1</title>
</head>

<body style="padding-left: 20px;padding-right: 20px;">
    <div class="banner">
        <h1>Lesson 1 : Parent &amp; Child Nodes</h1>
    </div>
    <div>
        <ul class="item-list">
            <li>Tea</li>
            <li>Coffee</li>
            <li>Juice</li>
            <li>Milk</li>
        </ul>
    </div>

    <div class="banner2">
        <h2>Lesson 2 : Siblings</h2>
    </div>

    <div>
        <ul class="item-list2">
            <li id="firstLi">item 1</li>
            <li>item 2</li>
            <li>item 3</li>
            <li>item 4</li>
        </ul>
    </div>
</body>
<script>

    /*   ----   PARENT & CHILD NODES  ----   */

    /* attraverso questi metodi possiamo visualizzare quali sono i genitori e i figli dell'elemento selezionato. ad es:  */
    
    console.log(document.querySelector("h1").parentNode) // così capisco qual'è il 'genitore' di h1 
    
    let child = document.querySelector("h1")                // così definisco che h1 è figlio di .banner per sempre

    console.log(child)                                      // infatti mi restituisce h1

    console.log(child.parentElement)                        // così richiamiamo nuovamente il banner che è genitore di h1

    

    /* altro esempio  */

    let list = document.querySelector(".item-list")         // definisco che list è la mia ul

    console.log(list)                                       // controllo che funzioni

    console.log(list.firstElementChild)                     // con firstElementChild seleziono il primo elemento della lista

    console.log(list.lastElementChild)                      // con lastElementChild seleziono l'ultimo' elemento della lista

    console.log(list.childNodes)                            
    // restituisce una strana lista dove inserisce tra i 'li' dei 'text' => questi text in realtà sono gli spazi tra un li e l'altro

    console.log(list.children)                              // così ci ritroviamo tutti gli elementi correttamente
    console.log(list.children[3])                           // e sempre attraverso l'indice andiamo a selezionare quello che ci interessa

    // In quest'ultimo esempio vediamo come parentNode e parentElement coincidono se effettuiamo una ricerca mirata. quindi per cercare il genitore di h1 possiamo usare entrambi i metodi. 
    console.log(document.querySelector("h1").parentNode)
    console.log(document.querySelector("h1").parentElement)

    //se invece estendiamo la ricerca a tutto il documento attraverso .documentElement otterremo:

    console.log(document.documentElement)                       // è il nostro documento che inizia con <html>

    console.log(document.documentElement.parentNode)             // il 'genitore nodo' del nostro documento è il documento stesso
    console.log(document.documentElement.parentElement)          // mentre se ricerchiamo il 'parente' del documento il risultato sarà null in quanto non ne abbiamo ancora istanziato uno

    // per comprendere meglio le relazioni parentali, guarda l'immagine presente in cartella lesson7 chiamata parentele.




    /*   ----   SIBLINGS = Fratelli/Sorelle ----   */

    // Osservando la lista della lezione 2 troviamo che <ul> è genitore mentre i <li> sono i figli, ma i <li> tra di loro sono fratelli (= siblings)
    // Per selezionare il primo elemento sibling creiamo una variabile

    let firstSib = document.getElementById('firstLi')
    console.log(firstSib)

    // con .nextElementSibling possiamo trovare il fratello successivo
    console.log(firstSib.nextElementSibling)
    
    // a questo punto bisognerebbe un altra variabile con cui salvare item 2 per poi trovare l'item 3 con nextElementSibling. chiaramente non è efficace se i fratelli sono tanti, quindi ha senso creare un ciclo while partendo solo dall'individuazione del primo elemento sibling:

    let nextSib = firstSib.nextElementSibling

    while (nextSib){
        console.log(nextSib)
        nextSib = nextSib.nextElementSibling
    }

       
</script>

</html>